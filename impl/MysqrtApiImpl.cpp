/**
 * Minimal Pistache
 * This is a sample server
 *
 * The version of the OpenAPI document: 1.0.0
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

#include "MysqrtApiImpl.h"
#include "dspack.h"

namespace org::openapitools::server::api
{

    using namespace org::openapitools::server::model;

    MysqrtApiImpl::MysqrtApiImpl(const std::shared_ptr<Pistache::Rest::Router> &rtr)
        : MysqrtApi(rtr)
    {
    }

    void MysqrtApiImpl::sqrt(const Sqrt_input &sqrtInput, Pistache::Http::ResponseWriter &response)
    {
        double x;
        double result;
        Sqrt_output result_output;
        nlohmann::json json_to_dump;
        std::string string_to_send;
        x = sqrtInput.getX();
        result = mysqrt(x);
        result = round(result, 2);
        result_output.setX(x);
        result_output.setResult(round(result, 2));
        nlohmann::to_json(json_to_dump, result_output);
        string_to_send = json_to_dump.dump();
        response.send(Pistache::Http::Code::Ok, string_to_send);
    }

}
