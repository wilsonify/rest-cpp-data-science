/**
 * Minimal Pistache
 * This is a sample server
 *
 * The version of the OpenAPI document: 1.0.0
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

#include "StrengthApiImpl.h"
#include "dspack.h"

namespace org::openapitools::server::api
{

    using namespace org::openapitools::server::model;

    StrengthApiImpl::StrengthApiImpl(const std::shared_ptr<Pistache::Rest::Router> &rtr)
        : StrengthApi(rtr)
    {
    }

    void StrengthApiImpl::strengthen(const Strength_input &strengthInput, Pistache::Http::ResponseWriter &response)
    {
        Strength_output result_output;
        nlohmann::json json_to_dump;
        std::string string_to_send;

        int32_t actual = strengthInput.getActual();
        int32_t expected = strengthInput.getExpected();
        double result = strength(double(actual), double(expected));
        
        result_output.setActual(actual);
        result_output.setExpected(expected);
        result_output.setStrength(result);

        nlohmann::to_json(json_to_dump, result_output);
        string_to_send = json_to_dump.dump();
        response.send(Pistache::Http::Code::Ok, string_to_send);
    }

}
